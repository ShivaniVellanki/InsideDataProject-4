<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quill-like Store</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ShivaniVellanki/quill-custom-websdk-dist@v1.0.15/kore-ai-sdk.min.css">
     <style>
      .header-bar {
        background-color: #2563eb;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 20px;
        color: white;
      }
      .header-logo {
        display: flex;
        align-items: center;
        font-size: 24px;
        font-weight: bold;
      }
      .search-container {
        display: flex;
        align-items: center;
      }
      .search-container input {
        padding: 5px;
        margin-right: 5px;
      }
      .header-actions {
        display: flex;
        align-items: center;
      }
      .chat-btn {
        background-color: white;
        color: #2563eb;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
      }
    </style>
</head>
    <!-- Header Bar -->
  <div class="header-bar">
    <div class="header-logo">
      <svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="8" fill="#2563eb"/><text x="16" y="22" text-anchor="middle" font-size="18" fill="#fff" font-family="Arial, Helvetica, sans-serif">Q</text></svg>
      Quill
    </div>
    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search products...">
        <button id="searchButton"><i class="fas fa-search"></i></button>
    </div>
    <div class="header-actions">
      <span class="header-phone" style="font-size:15px;font-weight:500;color:#fff;margin-right:18px;letter-spacing:0.5px;">1-800-982-3400</span>
      <button id="chatBtn" class="chat-btn">Chat</button>
    </div>
  </div>

    <main>
        <div class="products-grid" id="productsGrid">
            <!-- Products will be dynamically inserted here -->
        </div>

        <div class="cart-sidebar" id="cartSidebar">
            <h2>Shopping Cart</h2>
            <div id="cartItems">
                <!-- Cart items will be dynamically inserted here -->
            </div>
            <div class="cart-total">
                <h3>Total: $<span id="cartTotal">0.00</span></h3>
                <button id="checkoutButton">Checkout</button>
            </div>
        </div>
    </main>

    <script src="products.js"></script>
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ShivaniVellanki/quill-custom-websdk-dist@v1.0.15/kore-ai-sdk.min.js"></script>
    <!-- <script src= "bot.js" ></script> -->
     <script>
        document.addEventListener('DOMContentLoaded', function () {
    console.log('Analytics object before getting:', window.analytics);
    let insideData = getAnalytics();
    console.log('Analytics data retrieved:', insideData);

    function showChatWithCustomData() {
    if (window.koreBot && window.koreChatCfg) {
        window.koreChatCfg.botOptions.botInfo.customData = insideData;
        window.koreBot.show(window.koreChatCfg);
    } else {

        console.error("koreBot or koreChatCfg is not defined");
    }
}

document.getElementById('chatBtn').onclick = showChatWithCustomData;

// document.getElementById('chatBtn2').onclick = showChatWithCustomData;

    // Set customData just before showing bot
    // document.getElementById('chatBtn').onclick = function () {
    //     if (window.koreBot && window.koreChatCfg) {

    //         window.koreChatCfg.botOptions.botInfo.customData = insideData;
    //         window.koreBot.show(window.koreChatCfg);
            
    //     } else {
    //         console.error("koreBot or koreChatCfg is not defined");
    //     }
    // };
});
     </script>
</body>
</html> 